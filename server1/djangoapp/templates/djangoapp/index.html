<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Dealership Review</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <link href="https://unpkg.com/bootstrap-table@1.18.2/dist/bootstrap-table.min.css" rel="stylesheet">
    <script src="https://unpkg.com/bootstrap-table@1.18.2/dist/bootstrap-table.min.js"></script>
    <script src="https://unpkg.com/bootstrap-table@1.18.2/dist/extensions/filter-control/bootstrap-table-filter-control.min.js"></script>
</head>

<body>
    <!-- Remove this line the first time you edit this file -->
    This is the index page of your Django app!

    <!--Add a nav bar here -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <a class="navbar-brand" href="#">Dealership Review</a>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
                <!-- If user is not authenticated, show login form and signup link -->
                {% if not request.user.is_authenticated %}
                    <li class="nav-item">
                        <form class="form-inline" action="{% url 'login' %}" method="post">
                            {% csrf_token %}
                            <input class="form-control mr-sm-2" type="text" name="username" placeholder="Username" aria-label="Username">
                            <input class="form-control mr-sm-2" type="password" name="password" placeholder="Password" aria-label="Password">
                            <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Login</button>
                        </form>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'signup' %}">Signup</a>
                    </li>
                <!-- If user is authenticated, show username and signout button -->
                {% else %}
                    <li class="nav-item">
                        <span class="navbar-text mr-3">
                            {{ request.user.username }}
                        </span>
                        <a class="btn btn-outline-danger my-2 my-sm-0" href="{% url 'signout' %}">
                            Sign Out
                        </a>
                    </li>
                {% endif %}
            </ul>
        </div>
    </nav>

    <!--Add a dealer table here -->

</body>

</htdef login_view(request):
if request.method == 'POST':
    username = request.POST['username']
    password = request.POST['password']
    user = authenticate(request, username=username, password=password)
    if user is not None:
        login(request, user)
        return HttpResponse("User successfully logged in.")
    else:
        return HttpResponse("Invalid username or password.")
else:
    return HttpResponse("This view is for handling POST requests.")def login_view(request):
    if request.method == 'POST':
        username = request.POST['username']
        password = request.POST['password']
        user = authenticate(request, username=username, password=password)
        if user is not None:
            login(request, user)
            return HttpResponse("User successfully logged in.")
        else:
            return HttpResponse("Invalid username or password.")
    else:
        return HttpResponse("This view is for handling POST requests.")ferfff